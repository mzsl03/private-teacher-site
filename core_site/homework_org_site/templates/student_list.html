{% extends 'layout.html' %}

{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/student_list.css' %}">
{% endblock %}

{% block content %}
    <div class="list_students">
        <h3>Students</h3>
        <table class="table">
            <thead>
            <tr>
                <th>Username</th>
                <th>Name</th>
                <th>Email</th>
                <th>School year</th>
                <th>Homework</th>
                <th>Delete</th>
            </tr>
            </thead>
            <tbody>
            {% for student in students %}
                <tr>
                    <td>
                        <a href="{% url 'edit_student' student.id %}">{{ student.user.username }}</a>
                    </td>
                    <td>{{ student.user.first_name }} {{ student.user.last_name }}</td>
                    <td>{{ student.user.email }}</td>
                    <td>{{ student.school_year }}</td>
                    <td><a href="{% url 'kanban' student.id %}" class="btn btn-secondary">Homework</a></td>
                    <td>
                        <form action="{% url 'delete_student' student.id %}" method="post" style="display:inline;">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-danger"
                                    onclick="return confirm('Are you sure you want to delete this student?');">
                                Delete
                            </button>
                        </form>
                    </td>
                </tr>
            {% endfor %}

        </table>
        <a href={% url 'add_student' %}><button type="button" class="btn btn-primary">Add new Student</button></a>
    </div>
{% endblock %}